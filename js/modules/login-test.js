describe("login_function",(()=>{it("test_happy_path_user_login",(()=>{const e="sergio admin",t="masterpass",s=document.createElement("div"),o={reset:jest.fn()},n=(()=>{let e={};return{getItem:t=>e[t],setItem:(t,s)=>e[t]=s,clear:()=>e={}}})();Object.defineProperty(window,"sessionStorage",{value:n});const a=jest.fn((()=>[{email:e,password:t}]));jest.fn();login(e,t,s,[]),expect(a).toHaveBeenCalled(),expect(o.reset).toHaveBeenCalled(),expect(sessionStorage.getItem("current_user")).toEqual(JSON.stringify(e))})),it("test_edge_case_empty_fields",(()=>{const e=document.createElement("div"),t={reset:jest.fn()},s=jest.fn((()=>[])),o=jest.fn();login("","",e,[]),expect(s).toHaveBeenCalled(),expect(t.reset).not.toHaveBeenCalled(),expect(o).toHaveBeenCalled()})),it("test_edge_case_incorrect_admin_email",(()=>{const e=document.createElement("div"),t={reset:jest.fn()},s=jest.fn((()=>[])),o=jest.fn();login("testadmin@test.com","testpassword",e,[{account:"admin@test.com",password:"adminpassword"}]),expect(s).toHaveBeenCalled(),expect(t.reset).not.toHaveBeenCalled(),expect(o).toHaveBeenCalled()})),it("test_edge_case_incorrect_user_email",(()=>{const e="password",t=document.createElement("div");login("incorrect_email@test.com",e,t,[]),expect(t.classList.contains("alert-text")).toBe(!0),expect(t.textContent).toBe("Incorrect password"),expect(e.classList.contains("alert-input")).toBe(!0)})),it("test_edge_case_incorrect_password",(()=>{const e="incorrect_password",t=document.createElement("div");sessionStorage.setItem("account",JSON.stringify([{email:"test@test.com",password:"password"}])),login("sergio admin",e,t,[]),expect(t.classList.contains("alert-text")).toBe(!0),expect(t.textContent).toBe("Incorrect password"),expect(e.classList.contains("alert-input")).toBe(!0)})),it("test_general_behavior_reset_form",(()=>{const e=document.createElement("div");sessionStorage.setItem("account",JSON.stringify([{email:"test@test.com",password:"password"}]));const t=document.createElement("form");t.reset=jest.fn(),global.window.open=jest.fn(),global.window.close=jest.fn(),login("test@test.com","password",e,[]),expect(t.reset).toHaveBeenCalled(),expect(global.window.open).toHaveBeenCalledWith(url.courses,"_blank"),expect(global.window.close).toHaveBeenCalled()}))}));